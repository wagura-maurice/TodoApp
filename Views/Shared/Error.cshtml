@model ErrorViewModel
@{
    ViewData["Title"] = "Error";
    Layout = "_Layout";
}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8 text-center">
            <div class="mt-5">
                <i class="bi bi-exclamation-triangle-fill text-danger display-1"></i>
                <h1 class="display-4 text-danger mt-4">Oops! Something went wrong</h1>
                <p class="lead mt-3">We're sorry, but an error occurred while processing your request.</p>
                
                @if (Model.ShowRequestId)
                {
                    <div class="alert alert-secondary mt-4">
                        <p class="mb-0">
                            <strong>Request ID:</strong> <code>@Model.RequestId</code>
                        </p>
                    </div>
                }

                <div class="mt-5">
                    <a href="@Url.Action("Index", "Home")" class="btn btn-primary btn-lg me-3">
                        <i class="bi bi-house-door"></i> Back to Home
                    </a>
                    <a href="javascript:history.back()" class="btn btn-outline-secondary btn-lg">
                        <i class="bi bi-arrow-left"></i> Go Back
                    </a>
                </div>

                @if (Model.ShowRequestId && User.IsInRole("Administrator"))
                {
                    <div class="mt-5 text-start">
                        <h3>Developer Information</h3>
                        <div class="card bg-light">
                            <div class="card-body">
                                <p class="mb-2">
                                    <strong>Request ID:</strong> <code>@Model.RequestId</code>
                                </p>
                                @if (ViewData["Exception"] != null)
                                {
                                    <p class="mb-2">
                                        <strong>Exception:</strong> @ViewData["Exception"]
                                    </p>
                                }
                                @if (ViewData["ExceptionDetails"] != null)
                                {
                                    <div class="mt-3">
                                        <button class="btn btn-sm btn-outline-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#exceptionDetails">
                                            Show Details
                                        </button>
                                        <div class="collapse mt-2" id="exceptionDetails">
                                            <div class="card card-body bg-white">
                                                <pre class="mb-0">@ViewData["ExceptionDetails"]</pre>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
